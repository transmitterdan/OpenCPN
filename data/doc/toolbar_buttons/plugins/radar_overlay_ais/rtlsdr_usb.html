


<h1>Rtlsdr USB</h1>
<div class="level1">

</div>

<h2>Rtlsdr USB Plugin</h2>
<div class="level2">

</div>

<h3>Use a low cost USB DVB-T (Digital TV) receiver for AIS messages from Ships</h3>
<div class="level3">

<p>
Various dongles are supported, the r820-t works the best and is also the cheapest (typically $8 US)
</p>

<p>
<img src="../../../opencpn/manual/r820t.jpeg" class="media" title="ASCII" alt="ASCII" />
</p>

</div>

<h4>Hardware Setup:</h4>
<div class="level4">

<p>
You must use a proper vhf antenna, not the one included with the dongle.  I cut the antenna coax included with the dongle, and spliced it to the vhf coax.  You must solder both inner and outer (shield) connections.
</p>

</div>

<h4>Software Setup:</h4>
<div class="level4">

</div>

<h4>Linux</h4>
<div class="level4">

<p>
You must now compile rtl-sdr from source:
</p>
<pre class="code">git clone git://git.osmocom.org/rtl-sdr.git
mkdir build
cd build
cmake ..
sudo make install</pre>

<p>
Next, you must have either aisdecoder or gnuradio (with gr-ais).
</p>

<p>
For aisdecoder:
</p>
<pre class="code">wget
http://www.aishub.net/downloads/
aisdecoder
.
tar
.
gz tar zxvf aisdecoder.tar.gz
cd aisdecoder
mkdir build
cd build
cmake ..
sudo make install</pre>

<p>
For gnuradio with gr-ais:
&lt;not completed&gt;
</p>

</div>

<h4>Windows</h4>
<div class="level4">

<p>
You must run the program zadig to install the driver available here  <a href="http://zadig.akeo.ie/" class="urlextern" title="http://zadig.akeo.ie/" rel="nofollow">http://zadig.akeo.ie/</a>
 The default settings should be fine.
</p>

<p>
The receiver program (rtl_fm) and decoder (aisdecoder) are included as pre-built binaries, so from here, install the plugin setup package.  So far I have no pre-built packages for gnuradio on windows, but this would be useful if provided.  If there are issues it may be helpful to install the sdrsharp program to determine if the dongle is receiving data at all.
</p>

</div>

<h4>All Platforms</h4>
<div class="level4">

<p>
It should be possible (from the preferences dialog) to calibrate the dongle with the Auto Calibrate button:
</p>

<p>
<img src="../../../opencpn/manual/rtlsdr.png" class="media" alt="" />
</p>

<p>
From what I can tell so far, the error correction range is +- 128 (my two dongles use values of 35 and 50)  and must be within 5 for aisdecoder and 15-20 for gnuradio.  When the value is more accurate, more ais messages are received as well.
</p>

<p>
From here, install the plugin package, or build from source and install.
This works best in an area with a lot of ais traffic.  Once calibrated, ships should appear on the chart.
</p>

</div>
